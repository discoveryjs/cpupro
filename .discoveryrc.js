const v8logSupport = false;

module.exports = {
    name: 'cpupro',
    version: require('./package.json').version,
    description: 'A viewer for CPU profiles captured in V8 runtimes like Node.js, Deno or Chromium browsers',
    icon: './img/logo.svg',
    colorScheme: 'dark-only',
    embed: true,
    upload: {
        accept: v8logSupport
            ? ['.cpuprofile', '.devtools', '.log', '.json', '.jsonxl']
            : ['.cpuprofile', '.devtools', '.json', '.jsonxl']
    },
    basedir: __dirname + '/app',
    ...v8logSupport ? { encodings: './encodings' } : null,
    setup: './setup.mts',
    data: './data',
    favicon: './img/favicon.png',
    routers: ['./demo/router.js'],
    meta: {
        demos: require('./app/demo/index.json')
    },
    view: {
        assets: [
            './init-client.mjs',
            './pages/all-call-frames.js',
            './pages/all-modules.js',
            './pages/all-packages.js',
            './pages/all-page-common.css',
            './pages/common.css',
            './pages/default.js',
            './pages/default.css',
            './pages/call-frame.css',
            './pages/call-frame.js',
            './pages/locations.css',
            './pages/locations.js',
            './pages/module.js',
            './pages/category.js',
            './pages/package.js',
            './pages/profiles-matrix.css',
            './pages/profiles-matrix.js',
            './views/misc/mode-regexp.css',
            './views/misc/mode-regexp.js',
            './views/allocation-samples-matrix.css',
            './views/allocation-samples-matrix.js',
            './views/call-frame-kind-badge.css',
            './views/call-frame-kind-badge.js',
            './views/call-frame-loc-badge.css',
            './views/call-frame-loc-badge.js',
            './views/duration.css',
            './views/duration.js',
            './views/flamechart.css',
            './views/flamechart.js',
            './views/flamechart-expand.css',
            './views/flamechart-expand.js',
            './views/fractions-bar.css',
            './views/fractions-bar.js',
            './views/labeled-value.css',
            './views/labeled-value.js',
            './views/hotness-icon.css',
            './views/hotness-icon.js',
            './views/nested-timings-tree.js',
            './views/no-samples.css',
            './views/no-samples.js',
            './views/page-indicator.css',
            './views/page-indicator.js',
            './views/page-indicator-timings.css',
            './views/page-indicator-timings.js',
            './views/sampled-count-total.css',
            './views/sampled-count-total.js',
            './views/sources.css',
            './views/sources.js',
            './views/subject-badges.css',
            './views/subject-badges.js',
            './views/subject-with-nested-timeline.css',
            './views/subject-with-nested-timeline.js',
            './views/text-with-unit.css',
            './views/text-with-unit.js',
            './views/time.css',
            './views/time.js',
            './views/time-ruler.css',
            './views/time-ruler.js',
            './views/timeline-profiles.css',
            './views/timeline-profiles.js',
            './views/timeline-segments.css',
            './views/timeline-segments.js',
            './views/update-on-timings-change.css',
            './views/update-on-timings-change.js',
            './views/value-fraction.css',
            './views/value-fraction.js'
        ]
    }
};
